{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { useSelector } from 'react-redux';\n// import axios from 'axios';\n// import { useParams } from 'react-router-dom';\n\n// const Discussion = () => {\n//   const { transporterId } = useParams();\n//   const user = useSelector(state => state.auth.user);\n//   const [messages, setMessages] = useState([]);\n//   const [newMessage, setNewMessage] = useState('');\n\n//   useEffect(() => {\n//     fetchMessages();\n//   }, [transporterId]);\n\n//   const fetchMessages = async () => {\n//     try {\n//       const response = await axios.get(`http://localhost:3000/api/messages?userId=${user._id}&transporterId=${transporterId}`);\n//       setMessages(response.data);\n//     } catch (error) {\n//       console.error(\"Failed to fetch messages\", error);\n//     }\n//   };\n\n//   const handleSendMessage = async () => {\n//     try {\n//       const response = await axios.post(`http://localhost:3000/api/messages`, {\n//         userId: user._id,\n//         transporterId: transporterId,\n//         message: newMessage,\n//       });\n//       setMessages([...messages, response.data]);\n//       setNewMessage('');\n//     } catch (error) {\n//       console.error(\"Failed to send message\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"container mt-5\">\n//       <h3>Discussion avec le Transporteur</h3>\n//       <div className=\"mb-3\">\n//         <input\n//           type=\"text\"\n//           className=\"form-control\"\n//           value={newMessage}\n//           onChange={(e) => setNewMessage(e.target.value)}\n//           placeholder=\"Entrez un message\"\n//         />\n//         <button onClick={handleSendMessage} className=\"btn btn-primary mt-2\">Envoyer</button>\n//       </div>\n//       <ul className=\"list-group\">\n//         {messages.length > 0 ? (\n//           messages.map((message, index) => (\n//             <li key={index} className=\"list-group-item\">{message.content}</li>\n//           ))\n//         ) : (\n//           <li className=\"list-group-item\">Aucun message</li>\n//         )}\n//       </ul>\n//     </div>\n//   );\n// };\n\n// export default Discussion;","map":{"version":3,"names":[],"sources":["/Users/mohamet/Downloads/ThewebApp-master/src/components/common/Discussion.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import { useSelector } from 'react-redux';\n// import axios from 'axios';\n// import { useParams } from 'react-router-dom';\n\n// const Discussion = () => {\n//   const { transporterId } = useParams();\n//   const user = useSelector(state => state.auth.user);\n//   const [messages, setMessages] = useState([]);\n//   const [newMessage, setNewMessage] = useState('');\n\n//   useEffect(() => {\n//     fetchMessages();\n//   }, [transporterId]);\n\n//   const fetchMessages = async () => {\n//     try {\n//       const response = await axios.get(`http://localhost:3000/api/messages?userId=${user._id}&transporterId=${transporterId}`);\n//       setMessages(response.data);\n//     } catch (error) {\n//       console.error(\"Failed to fetch messages\", error);\n//     }\n//   };\n\n//   const handleSendMessage = async () => {\n//     try {\n//       const response = await axios.post(`http://localhost:3000/api/messages`, {\n//         userId: user._id,\n//         transporterId: transporterId,\n//         message: newMessage,\n//       });\n//       setMessages([...messages, response.data]);\n//       setNewMessage('');\n//     } catch (error) {\n//       console.error(\"Failed to send message\", error);\n//     }\n//   };\n\n//   return (\n//     <div className=\"container mt-5\">\n//       <h3>Discussion avec le Transporteur</h3>\n//       <div className=\"mb-3\">\n//         <input\n//           type=\"text\"\n//           className=\"form-control\"\n//           value={newMessage}\n//           onChange={(e) => setNewMessage(e.target.value)}\n//           placeholder=\"Entrez un message\"\n//         />\n//         <button onClick={handleSendMessage} className=\"btn btn-primary mt-2\">Envoyer</button>\n//       </div>\n//       <ul className=\"list-group\">\n//         {messages.length > 0 ? (\n//           messages.map((message, index) => (\n//             <li key={index} className=\"list-group-item\">{message.content}</li>\n//           ))\n//         ) : (\n//           <li className=\"list-group-item\">Aucun message</li>\n//         )}\n//       </ul>\n//     </div>\n//   );\n// };\n\n// export default Discussion;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}